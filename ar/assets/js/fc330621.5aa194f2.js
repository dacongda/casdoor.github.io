"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[3509],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),m=a,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var d=2;d<o;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},95204:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var r=n(87462),a=(n(67294),n(3905));const o={title:"Configuring and Syncing LDAP Users",description:"Configuring LDAP in Casdoor for user synchronization",keywords:["ldap","config","user","sync"],authors:["WindSpiritSR"]},i=void 0,s={unversionedId:"ldap/config",id:"ldap/config",title:"Configuring and Syncing LDAP Users",description:"Configuring LDAP in Casdoor for user synchronization",source:"@site/docs/ldap/config.md",sourceDirName:"ldap",slug:"/ldap/config",permalink:"/ar/docs/ldap/config",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/ldap/config.md",tags:[],version:"current",frontMatter:{title:"Configuring and Syncing LDAP Users",description:"Configuring LDAP in Casdoor for user synchronization",keywords:["ldap","config","user","sync"],authors:["WindSpiritSR"]},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/ar/docs/ldap/overview"},next:{title:"LDAP Server",permalink:"/ar/docs/ldap/ldapserver"}},l={},d=[{value:"Configuring Connection to LDAP Server",id:"configuring-connection-to-ldap-server",level:2},{value:"Server Name",id:"server-name",level:3},{value:"Server Host",id:"server-host",level:3},{value:"Server Port",id:"server-port",level:3},{value:"Base DN",id:"base-dn",level:3},{value:"Search Filter",id:"search-filter",level:3},{value:"Filter Fields",id:"filter-fields",level:3},{value:"Admin",id:"admin",level:3},{value:"Admin Password",id:"admin-password",level:3},{value:"Auto Sync",id:"auto-sync",level:3},{value:"Synchronizing Users",id:"synchronizing-users",level:2}],c={toc:d};function u(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"LDAP configurations are specific to each organization, as LDAP users will be synchronized into them."),(0,a.kt)("p",null,'To modify the configuration, you need to use a global admin user. Enter the following information for LDAP user synchronization on the "organization" page.\n',(0,a.kt)("img",{alt:"ldap_table",src:n(41267).Z,width:"1840",height:"237"})),(0,a.kt)("h2",{id:"configuring-connection-to-ldap-server"},"Configuring Connection to LDAP Server"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"ldap_edit",src:n(53390).Z,width:"1243",height:"865"})),(0,a.kt)("h3",{id:"server-name"},"Server Name"),(0,a.kt)("p",null,"A friendly name that managers can use to identify different servers."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Example: ",(0,a.kt)("inlineCode",{parentName:"p"},"Example LDAP Server"))),(0,a.kt)("h3",{id:"server-host"},"Server Host"),(0,a.kt)("p",null,"The host or IP address of the LDAP server."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Example: ",(0,a.kt)("inlineCode",{parentName:"p"},"example.com"))),(0,a.kt)("h3",{id:"server-port"},"Server Port"),(0,a.kt)("p",null,"The port number of the LDAP server. Only numeric values are allowed."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Example: ",(0,a.kt)("inlineCode",{parentName:"p"},"389"))),(0,a.kt)("h3",{id:"base-dn"},"Base DN"),(0,a.kt)("p",null,"Casdoor uses Sub search mode by default when searching in LDAP. The Base DN is the basic distinguished name used for the search. Casdoor will return all users under the specified Base DN."),(0,a.kt)("p",null,"The admin account configured in Casdoor should have at least read-only permissions at the Base DN."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Example: ",(0,a.kt)("inlineCode",{parentName:"p"},"ou=Example,dc=example,dc=com"))),(0,a.kt)("h3",{id:"search-filter"},"Search Filter"),(0,a.kt)("p",null,"Casdoor uses a search filter to query LDAP users."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Example: ",(0,a.kt)("inlineCode",{parentName:"p"},"(objectClass=posixAccount)"))),(0,a.kt)("h3",{id:"filter-fields"},"Filter Fields"),(0,a.kt)("p",null,"Filter fields are the identifiers of the user in the LDAP server. When logging in to Casdoor as an LDAP user, the entered login username is regarded as the ",(0,a.kt)("inlineCode",{parentName:"p"},"uid")," of the LDAP user. You can also configure other fields, such as ",(0,a.kt)("inlineCode",{parentName:"p"},"mail")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"mobile"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"LDAP_field",src:n(62485).Z,width:"2100",height:"1080"})),(0,a.kt)("h3",{id:"admin"},"Admin"),(0,a.kt)("p",null,"An account that can log in to the specified LDAP server."),(0,a.kt)("p",null,"The login method (DN or ID) depends on the LDAP server settings you want to connect to."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Example: ",(0,a.kt)("inlineCode",{parentName:"p"},"cn=manager,dc=example,dc=com"))),(0,a.kt)("h3",{id:"admin-password"},"Admin Password"),(0,a.kt)("p",null,"The password for the LDAP server Admin account."),(0,a.kt)("h3",{id:"auto-sync"},"Auto Sync"),(0,a.kt)("p",null,"Set to ",(0,a.kt)("inlineCode",{parentName:"p"},"0")," to disable auto sync. Any other value means ",(0,a.kt)("strong",{parentName:"p"},"Sync every few minutes"),"."),(0,a.kt)("h2",{id:"synchronizing-users"},"Synchronizing Users"),(0,a.kt)("p",null,"The sync table displays all the users obtained from the LDAP server within the specific ",(0,a.kt)("inlineCode",{parentName:"p"},"ou"),". If the users have already been synced, the checkbox will be disabled. You can select the users by checking the box, and then sync the selected users from the LDAP server.\n",(0,a.kt)("img",{alt:"ldap_sync",src:n(92480).Z,width:"1783",height:"727"})),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"uid")," of a user in the LDAP server is the same as the ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," of an existing user in the Casdoor organization, Casdoor will create a new user with a ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," that includes the ",(0,a.kt)("inlineCode",{parentName:"p"},"uid")," and a random string. However, this user may not be able to log in because the name of the newly synced user does not exist in the LDAP server. Therefore, it is recommended to avoid this situation.")))}u.isMDXComponent=!0},53390:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ldap_edit-9ac932be030d2073a61b7db6e10a4b25.png"},62485:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ldap_field-8aa1db64d07df1ebff4671a15b4fc6bf.gif"},92480:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ldap_sync-1e63b8aedf505ce5a3cbb2b0e24f8c4f.png"},41267:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ldap_table-1e60fcbbf9f6a9709a60aebaa8876fa6.png"}}]);