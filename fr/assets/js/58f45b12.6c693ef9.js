"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[6995],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(n),m=r,k=c["".concat(l,".").concat(m)]||c[m]||u[m]||o;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var d=2;d<o;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},33493:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var a=n(87462),r=(n(67294),n(3905));const o={title:"Installation du serveur",description:"Installer et configurer le serveur Casdoor",keywords:["serveur Casdoor","installation","configuration"],authors:["hsluoyz"]},i=void 0,s={unversionedId:"basic/server-installation",id:"basic/server-installation",title:"Installation du serveur",description:"Installer et configurer le serveur Casdoor",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/basic/server-installation.mdx",sourceDirName:"basic",slug:"/basic/server-installation",permalink:"/fr/docs/basic/server-installation",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/server-installation.mdx",tags:[],version:"current",frontMatter:{title:"Installation du serveur",description:"Installer et configurer le serveur Casdoor",keywords:["serveur Casdoor","installation","configuration"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Concepts de base",permalink:"/fr/docs/basic/core-concepts"},next:{title:"(Facultatif) Essayez avec Docker",permalink:"/fr/docs/basic/try-with-docker"}},l={},d=[{value:"Exigences",id:"exigences",level:2},{value:"Syst\xe8me d&#39;exploitation",id:"syst\xe8me-dexploitation",level:3},{value:"Environnement",id:"environnement",level:3},{value:"Base de donn\xe9es",id:"base-de-donn\xe9es",level:3},{value:"T\xe9l\xe9charger",id:"t\xe9l\xe9charger",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Configurer la base de donn\xe9es",id:"configurer-la-base-de-donn\xe9es",level:3},{value:"MySQL",id:"mysql",level:4},{value:"PostgreSQL",id:"postgresql",level:4},{value:"SQLite3",id:"sqlite3",level:4},{value:"Via le fichier Ini",id:"via-le-fichier-ini",level:3},{value:"Via les variables d&#39;environnement",id:"via-les-variables-denvironnement",level:3},{value:"Ex\xe9cuter",id:"ex\xe9cuter",level:2},{value:"Mode D\xe9veloppement",id:"mode-d\xe9veloppement",level:3},{value:"Backend",id:"backend",level:4},{value:"Frontend",id:"frontend",level:4},{value:"Mode Production",id:"mode-production",level:3},{value:"Backend",id:"backend-1",level:4},{value:"Frontend",id:"frontend-1",level:4}],p={toc:d};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"exigences"},"Exigences"),(0,r.kt)("h3",{id:"syst\xe8me-dexploitation"},"Syst\xe8me d'exploitation"),(0,r.kt)("p",null,"Tous les principaux syst\xe8mes d'exploitation, y compris Windows, Linux et macOS, sont pris en charge."),(0,r.kt)("h3",{id:"environnement"},"Environnement"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://go.dev/dl/"},"Go 1.17+")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org"},"Node.js LTS (18)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Nous sugg\xe9rons fortement d'utiliser ",(0,r.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x")," pour ex\xe9cuter et construire le frontend de Casdoor. L'utilisation de NPM pourrait causer des probl\xe8mes de style de l'interface utilisateur. Pour plus de d\xe9tails, voir : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/issues/294"},"casdoor#294"),".")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Si votre r\xe9seau ne parvient pas \xe0 synchroniser directement les packages de d\xe9pendance Go avec succ\xe8s, vous devez utiliser un proxy Go en configurant la variable d'environnement GOPROXY. Nous recommandons fortement d'utiliser : ",(0,r.kt)("a",{parentName:"p",href:"https://goproxy.cn/"},"https://goproxy.cn/"))),(0,r.kt)("h3",{id:"base-de-donn\xe9es"},"Base de donn\xe9es"),(0,r.kt)("p",null,"Casdoor utilise ",(0,r.kt)("a",{parentName:"p",href:"https://xorm.io/"},"XORM")," pour communiquer avec la base de donn\xe9es. Bas\xe9 sur ",(0,r.kt)("a",{parentName:"p",href:"https://gitea.com/xorm/xorm#drivers-support"},"Support des pilotes Xorm"),", Casdoor offre actuellement un support pour les bases de donn\xe9es suivantes :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MySQL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MariaDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PostgreSQL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CockroachDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SQL Server")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Oracle")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SQLite 3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TiDB"))),(0,r.kt)("h2",{id:"t\xe9l\xe9charger"},"T\xe9l\xe9charger"),(0,r.kt)("p",null,"Le code source de Casdoor est h\xe9berg\xe9 sur GitHub : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"),". Le code backend Go et le code frontend React sont contenus dans un seul d\xe9p\xf4t."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nom"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Langue"),(0,r.kt)("th",{parentName:"tr",align:null},"Code source"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Frontend"),(0,r.kt)("td",{parentName:"tr",align:null},"Interface utilisateur frontend Web pour Casdoor"),(0,r.kt)("td",{parentName:"tr",align:null},"JavaScript + React"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor/tree/master/web"},"https://github.com/casdoor/casdoor/tree/master/web"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Backend"),(0,r.kt)("td",{parentName:"tr",align:null},"Backend API RESTful pour Casdoor"),(0,r.kt)("td",{parentName:"tr",align:null},"Golang + Beego + XORM"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"))))),(0,r.kt)("p",null,"Casdoor prend en charge ",(0,r.kt)("inlineCode",{parentName:"p"},"Go Modules"),". Pour t\xe9l\xe9charger le code, clonez simplement le code en utilisant git :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cd path/to/folder\ngit clone https://github.com/casdoor/casdoor\n")),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("h3",{id:"configurer-la-base-de-donn\xe9es"},"Configurer la base de donn\xe9es"),(0,r.kt)("p",null,"Casdoor prend en charge MySQL, MSSQL, SQLite3 et PostgreSQL. Par d\xe9faut, Casdoor utilise MySQL."),(0,r.kt)("h4",{id:"mysql"},"MySQL"),(0,r.kt)("p",null,"Casdoor stocke les informations des utilisateurs, des n\u0153uds et des sujets dans une base de donn\xe9es MySQL nomm\xe9e ",(0,r.kt)("inlineCode",{parentName:"p"},"casdoor"),". Si la base de donn\xe9es n'existe pas, elle doit \xeatre cr\xe9\xe9e manuellement. La cha\xeene de connexion DB peut \xeatre sp\xe9cifi\xe9e \xe0 : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"https://github.com/casdoor/casdoor/blob/master/conf/app.conf")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\n")),(0,r.kt)("h4",{id:"postgresql"},"PostgreSQL"),(0,r.kt)("p",null,"Avant d'ex\xe9cuter Casdoor, vous devez pr\xe9parer manuellement une base de donn\xe9es pour PostgreSQL, car Casdoor n\xe9cessite de s\xe9lectionner une base de donn\xe9es lors de l'ouverture de Postgres avec xorm."),(0,r.kt)("p",null,"En supposant que vous avez d\xe9j\xe0 pr\xe9par\xe9 une base de donn\xe9es appel\xe9e ",(0,r.kt)("inlineCode",{parentName:"p"},"casdoor"),", vous devriez sp\xe9cifier ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," comme ceci :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = postgres\ndataSourceName = "user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor"\ndbName = casdoor\n')),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"Pour PostgreSQL, assurez-vous que ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dataSourceName")," a un ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbName")," non vide et aussi ",(0,r.kt)("a",{parentName:"mdxAdmonitionTitle",href:"https://github.com/casdoor/casdoor/issues/2127"},"dupliquez")," le nom de la base de donn\xe9es pour le champ ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbname")," comme montr\xe9 dans l'exemple ci-dessus. :::"),(0,r.kt)("h4",{parentName:"admonition",id:"cockroachdb"},"CockroachDB"),(0,r.kt)("p",{parentName:"admonition"},"CockroachDB peut \xe9galement \xeatre utilis\xe9 avec le pilote PostgreSQL et a la m\xeame configuration que PostgreSQL."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = postgres\ndataSourceName = "user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor serial_normalization=virtual_sequence"\ndbName = casdoor\n'))),(0,r.kt)("h4",{id:"sqlite3"},"SQLite3"),(0,r.kt)("p",null,"Pour configurer SQLite3, vous devriez sp\xe9cifier ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," comme ceci :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = sqlite\ndataSourceName = "file:casdoor.db?cache=shared"\ndbName = casdoor\n')),(0,r.kt)("h3",{id:"via-le-fichier-ini"},"Via le fichier Ini"),(0,r.kt)("p",null,"Casdoor peut \xeatre configur\xe9 via un seul fichier : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},(0,r.kt)("strong",{parentName:"a"},"conf/app.conf")),", qui par d\xe9faut contient le contenu suivant :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},'appname = casdoor\nhttpport = 8000\nrunmode = dev\nSessionOn = true\ncopyrequestbody = true\ndriverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\ntableNamePrefix =\nshowSql = false\nredisEndpoint =\ndefaultStorageProvider =\nisCloudIntranet = false\nauthState = "casdoor"\nsocks5Proxy = "127.0.0.1:10808"\nverificationCodeTimeout = 10\ninitScore = 2000\nlogPostOnly = true\norigin = "https://door.casdoor.com"\nstaticBaseUrl = "https://cdn.casbin.org"\nenableGzip = true\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"appname")," est le nom de l'application, qui actuellement n'a pas d'utilisation pratique."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"httpport")," est le port sur lequel votre application backend \xe9coute."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"runmode")," peut \xeatre r\xe9gl\xe9 sur ",(0,r.kt)("inlineCode",{parentName:"li"},"dev")," ou ",(0,r.kt)("inlineCode",{parentName:"li"},"prod"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SessionOn")," d\xe9termine s'il faut activer la session et est activ\xe9 par d\xe9faut."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"driverName"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"dataSourceName"),", et ",(0,r.kt)("inlineCode",{parentName:"li"},"dbName")," ont \xe9t\xe9 introduits plus t\xf4t. Veuillez voir ",(0,r.kt)("a",{parentName:"li",href:"#configure-database"},"Configurer la base de donn\xe9es")," pour plus de d\xe9tails."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"verificationCodeTimeout")," d\xe9finit le temps d'expiration du code de v\xe9rification. Apr\xe8s expiration, l'utilisateur doit l'obtenir \xe0 nouveau.")),(0,r.kt)("p",null,"En tant que d\xe9butant, vous n'avez besoin de modifier que deux \xe9l\xe9ments : ",(0,r.kt)("inlineCode",{parentName:"p"},"driverName")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"dataSourceName")," en fonction de votre base de donn\xe9es. Cette base de donn\xe9es sera utilis\xe9e par Casdoor pour stocker toutes les donn\xe9es, y compris les utilisateurs, les organisations et les applications."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tableNamePrefix")," est le pr\xe9fixe de la table lors de l'utilisation d'un adaptateur."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"showSql")," d\xe9termine s'il faut afficher les instructions SQL sur le logger si le niveau de log est sup\xe9rieur \xe0 INFO."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"redisEndpoint")," est le point de terminaison Redis utilis\xe9 par le stockage de session Beego. Si ce param\xe8tre est vide, les donn\xe9es de session seront stock\xe9es localement sous forme de fichiers dans le dossier ",(0,r.kt)("inlineCode",{parentName:"li"},"./tmp"),". Pour utiliser Redis comme stockage de session Beego, la valeur serait quelque chose comme : ",(0,r.kt)("inlineCode",{parentName:"li"},"redis.example.com:6379"),". Si Redis est d\xe9ploy\xe9 localement, vous pouvez utiliser ",(0,r.kt)("inlineCode",{parentName:"li"},"localhost:6379"),". Si un mot de passe Redis est activ\xe9, utilisez ",(0,r.kt)("inlineCode",{parentName:"li"},"redis.example.com:6379,db,password"),". Voir plus de d\xe9tails \xe0 : ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/beego/beedoc/blob/master/en-US/module/session.md#saving-provider-config"},"https://github.com/beego/beedoc/blob/master/en-US/module/session.md#saving-provider-config"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"defaultStorageProvider")," est le nom du service de stockage de fichiers par d\xe9faut. Si vous avez besoin d'utiliser des services de stockage de fichiers tels que le t\xe9l\xe9chargement d'avatar, vous devez configurer un fournisseur de stockage et l'appliquer dans votre application. Voir ",(0,r.kt)("a",{parentName:"li",href:"/docs/provider/storage/overview"},(0,r.kt)("strong",{parentName:"a"},"stockage"))," pour plus de d\xe9tails."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"isCloudIntranet")," est utilis\xe9 pour identifier si votre point de terminaison de fournisseur est un point de terminaison intranet."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"authState")," est le nom de l'application d'autorisation. Ce param\xe8tre sera v\xe9rifi\xe9 lors de la connexion."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"socks5Proxy")," est l'adresse IP du serveur proxy SOCKS. D\xe9finissez le port proxy car nous avons des services li\xe9s \xe0 Google ou utilisons ",(0,r.kt)("inlineCode",{parentName:"li"},"Google"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"GitHub"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Facebook"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"LinkedIn"),", ou ",(0,r.kt)("inlineCode",{parentName:"li"},"Steam")," comme fournisseurs OAuth, qui peuvent \xeatre restreints par le r\xe9seau dans certaines zones."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"initScore")," est le score initial de chaque utilisateur. Chaque utilisateur a un attribut de score. Le score est utilis\xe9 par ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/casbin/casnode"},(0,r.kt)("strong",{parentName:"a"},"Casnode"))," et ne contr\xf4le rien dans Casdoor."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logPostOnly")," est utilis\xe9 pour d\xe9terminer si seule la m\xe9thode post est utilis\xe9e pour ajouter un enregistrement."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"origin")," est le nom de domaine backend d'origine."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"staticBaseUrl")," est l'adresse de l'image statique utilis\xe9e lorsque le syst\xe8me initialise la base de donn\xe9es."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"enableGzip")," acceptera et r\xe9pondra avec un encodage gzip si l'en-t\xeate de la requ\xeate comprend ",(0,r.kt)("inlineCode",{parentName:"li"},"Accept-Encoding=gzip"),".")),(0,r.kt)("h3",{id:"via-les-variables-denvironnement"},"Via les variables d'environnement"),(0,r.kt)("p",null,"Tous les \xe9l\xe9ments de configuration d\xe9finis par Casdoor dans le fichier ini mentionn\xe9 ci-dessus peuvent \xeatre configur\xe9s via des variables d'environnement, ainsi que certains des \xe9l\xe9ments de configuration de beego (httpport, appname)."),(0,r.kt)("p",null,"Par exemple, lorsque vous essayez de d\xe9marrer Casdoor, vous pouvez utiliser quelque chose comme ceci pour passer la configuration via des variables d'environnement :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"appname=casbin go run main.go\n")),(0,r.kt)("p",null,"De plus, les d\xe9riv\xe9s de ",(0,r.kt)("inlineCode",{parentName:"p"},"export")," sont \xe9galement une m\xe9thode possible. Les noms des variables environnementales doivent correspondre exactement aux noms que vous souhaitez utiliser dans le fichier ini."),(0,r.kt)("p",null,"Remarque : les configurations dans les variables environnementales peuvent remplacer les configurations dans le fichier ini."),(0,r.kt)("h2",{id:"ex\xe9cuter"},"Ex\xe9cuter"),(0,r.kt)("p",null,"Il existe actuellement deux m\xe9thodes pour d\xe9marrer, et vous pouvez en choisir une selon votre situation."),(0,r.kt)("h3",{id:"mode-d\xe9veloppement"},"Mode D\xe9veloppement"),(0,r.kt)("h4",{id:"backend"},"Backend"),(0,r.kt)("p",null,"Le backend Go de Casdoor s'ex\xe9cute sur le port 8000 par d\xe9faut. Vous pouvez d\xe9marrer le backend Go avec la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go\n")),(0,r.kt)("p",null,"Apr\xe8s que le serveur fonctionne avec succ\xe8s, vous pouvez d\xe9marrer la partie frontend."),(0,r.kt)("h4",{id:"frontend"},"Frontend"),(0,r.kt)("p",null,"Le frontend de Casdoor est un projet tr\xe8s classique ",(0,r.kt)("a",{parentName:"p",href:"https://create-react-app.dev/"},(0,r.kt)("strong",{parentName:"a"},"Create-React-App (CRA)")),". Il s'ex\xe9cute sur le port ",(0,r.kt)("inlineCode",{parentName:"p"},"7001")," par d\xe9faut. Utilisez les commandes suivantes pour ex\xe9cuter le frontend :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn start\n")),(0,r.kt)("p",null,"Visitez ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:7001"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:7001"))," dans votre navigateur. Connectez-vous au tableau de bord Casdoor avec le compte administrateur global par d\xe9faut : ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"mode-production"},"Mode Production"),(0,r.kt)("h4",{id:"backend-1"},"Backend"),(0,r.kt)("p",null,"Construisez le code backend Go de Casdoor en un ex\xe9cutable et d\xe9marrez-le."),(0,r.kt)("p",null,"Pour Linux :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go build\n./casdoor\n")),(0,r.kt)("p",null,"Pour Windows :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go build\ncasdoor.exe\n")),(0,r.kt)("h4",{id:"frontend-1"},"Frontend"),(0,r.kt)("p",null,"Construisez le code frontend de Casdoor en ressources statiques (fichiers .html, .js, .css) :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn build\n")),(0,r.kt)("p",null,"Visitez ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:8000"))," dans votre navigateur. Connectez-vous au tableau de bord Casdoor avec le compte administrateur global par d\xe9faut : ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Pour utiliser un autre port, veuillez \xe9diter ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," et modifier ",(0,r.kt)("inlineCode",{parentName:"p"},"httpport"),", puis red\xe9marrez le backend Go.")),(0,r.kt)("admonition",{title:"D\xe9tails du port Casdoor",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Dans l'environnement ",(0,r.kt)("strong",{parentName:"p"},"dev"),", le frontend est ex\xe9cut\xe9 par ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn run")," sur le port 7001, donc si vous voulez aller \xe0 la page de connexion Casdoor, vous devez d\xe9finir le lien Casdoor comme ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"http://localhost:7001"},"http://localhost:7001")),"."),(0,r.kt)("p",{parentName:"admonition"},"Dans l'environnement ",(0,r.kt)("strong",{parentName:"p"},"prod"),", les fichiers frontend sont d'abord construits par ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn build")," et servis sur le port 8000, donc si vous voulez aller \xe0 la page de connexion Casdoor, vous devez d\xe9finir le lien Casdoor comme ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://your-casdoor-url.com:8000"},"https://your-casdoor-url.com:8000"))," (Si vous utilisez un proxy inverse, vous devez d\xe9finir le lien comme ",(0,r.kt)("strong",{parentName:"p"},"votre domaine"),")."),(0,r.kt)("h4",{parentName:"admonition",id:"prenez-notre-forum-officiel-casnode-comme-exemple"},"Prenez notre forum officiel Casnode comme exemple"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://casnode.org"},"Casnode")," utilise Casdoor pour g\xe9rer l'authentification."),(0,r.kt)("p",{parentName:"admonition"},"Lorsque nous testons Casnode dans l'environnement ",(0,r.kt)("strong",{parentName:"p"},"dev"),", nous d\xe9finissons le ",(0,r.kt)("inlineCode",{parentName:"p"},"serverUrl")," comme ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:7001"},"http://localhost:7001"),", donc lorsque nous testons les fonctionnalit\xe9s de connexion et d'inscription en utilisant Casdoor, cela nous am\xe8ne au port 7001 de localhost, qui est le port de Casdoor."),(0,r.kt)("p",{parentName:"admonition"},"Et lorsque nous mettons Casnode dans l'environnement ",(0,r.kt)("strong",{parentName:"p"},"prod"),", nous d\xe9finissons le ",(0,r.kt)("inlineCode",{parentName:"p"},"serverUrl")," comme ",(0,r.kt)("a",{parentName:"p",href:"https://door.casdoor.com"},"https://door.casdoor.com"),", donc les utilisateurs peuvent se connecter ou s'inscrire en utilisant Casdoor."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{alt:"Exemple Casnode",src:n(4621).Z,width:"1108",height:"281"}))))}u.isMDXComponent=!0},4621:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/casnodeexample-06892ab1a66c35c830aa85d51c8f75ed.png"}}]);