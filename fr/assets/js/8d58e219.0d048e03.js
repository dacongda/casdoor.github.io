"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[3592],{3905:(e,r,t)=>{t.d(r,{Zo:()=>c,kt:()=>m});var n=t(67294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=n.createContext({}),i=function(e){var r=n.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):l(l({},r),e)),t},c=function(e){var r=i(e.components);return n.createElement(s.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},d=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),d=i(t),m=a,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return t?n.createElement(f,l(l({ref:r},c),{},{components:t})):n.createElement(f,l({ref:r},c))}));function m(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=t.length,l=new Array(o);l[0]=d;var u={};for(var s in r)hasOwnProperty.call(r,s)&&(u[s]=r[s]);u.originalType=e,u.mdxType="string"==typeof e?e:a,l[1]=u;for(var i=2;i<o;i++)l[i]=t[i];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},85162:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(67294),a=t(86010);const o="tabItem_Ymn6";function l(e){let{children:r,hidden:t,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,a.Z)(o,l),hidden:t},r)}},74866:(e,r,t)=>{t.d(r,{Z:()=>N});var n=t(87462),a=t(67294),o=t(86010),l=t(12466),u=t(76775),s=t(91980),i=t(67392),c=t(50012);function p(e){return function(e){var r;return(null==(r=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:r.filter(Boolean))??[]}(e).map((e=>{let{props:{value:r,label:t,attributes:n,default:a}}=e;return{value:r,label:t,attributes:n,default:a}}))}function d(e){const{values:r,children:t}=e;return(0,a.useMemo)((()=>{const e=r??p(t);return function(e){const r=(0,i.l)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function m(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function f(e){let{queryString:r=!1,groupId:t}=e;const n=(0,u.k6)(),o=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,s._X)(o),(0,a.useCallback)((e=>{if(!o)return;const r=new URLSearchParams(n.location.search);r.set(o,e),n.replace({...n.location,search:r.toString()})}),[o,n])]}function v(e){const{defaultValue:r,queryString:t=!1,groupId:n}=e,o=d(e),[l,u]=(0,a.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!m({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:o}))),[s,i]=f({queryString:t,groupId:n}),[p,v]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[n,o]=(0,c.Nk)(t);return[n,(0,a.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:n}),g=(()=>{const e=s??p;return m({value:e,tabValues:o})?e:null})();(0,a.useLayoutEffect)((()=>{g&&u(g)}),[g]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);u(e),i(e),v(e)}),[i,v,o]),tabValues:o}}var g=t(72389);const b="tabList__CuJ",y="tabItem_LNqP";function h(e){let{className:r,block:t,selectedValue:u,selectValue:s,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,l.o5)(),d=e=>{const r=e.currentTarget,t=c.indexOf(r),n=i[t].value;n!==u&&(p(r),s(n))},m=e=>{var r;let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=c.indexOf(e.currentTarget)+1;t=c[r]??c[0];break}case"ArrowLeft":{const r=c.indexOf(e.currentTarget)-1;t=c[r]??c[c.length-1];break}}null==(r=t)||r.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},r)},i.map((e=>{let{value:r,label:t,attributes:l}=e;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:u===r?0:-1,"aria-selected":u===r,key:r,ref:e=>c.push(e),onKeyDown:m,onClick:d},l,{className:(0,o.Z)("tabs__item",y,null==l?void 0:l.className,{"tabs__item--active":u===r})}),t??r)})))}function k(e){let{lazy:r,children:t,selectedValue:n}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=o.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},o.map(((e,r)=>(0,a.cloneElement)(e,{key:r,hidden:e.props.value!==n}))))}function x(e){const r=v(e);return a.createElement("div",{className:(0,o.Z)("tabs-container",b)},a.createElement(h,(0,n.Z)({},e,r)),a.createElement(k,(0,n.Z)({},e,r)))}function N(e){const r=(0,g.Z)();return a.createElement(x,(0,n.Z)({key:String(r)},e))}},95549:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>u,metadata:()=>i,toc:()=>p});var n=t(87462),a=(t(67294),t(3905)),o=t(74866),l=t(85162);const u={title:"D\xe9ploiement sur NGINX",description:"Utilisez Nginx pour faire office de proxy inverse pour votre programme Go en backend et d\xe9marrez rapidement le service Casdoor.",keywords:["Nginx"],authors:["ErikQQY"]},s=void 0,i={unversionedId:"deployment/nginx",id:"deployment/nginx",title:"D\xe9ploiement sur NGINX",description:"Utilisez Nginx pour faire office de proxy inverse pour votre programme Go en backend et d\xe9marrez rapidement le service Casdoor.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/deployment/nginx.mdx",sourceDirName:"deployment",slug:"/deployment/nginx",permalink:"/fr/docs/deployment/nginx",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/deployment/nginx.mdx",tags:[],version:"current",frontMatter:{title:"D\xe9ploiement sur NGINX",description:"Utilisez Nginx pour faire office de proxy inverse pour votre programme Go en backend et d\xe9marrez rapidement le service Casdoor.",keywords:["Nginx"],authors:["ErikQQY"]},sidebar:"tutorialSidebar",previous:{title:"Deployment",permalink:"/fr/docs/category/deployment"},next:{title:"D\xe9ploiement sur Kubernetes",permalink:"/fr/docs/deployment/k8s"}},c={},p=[{value:"1. Construire les fichiers statiques du front-end",id:"1-construire-les-fichiers-statiques-du-front-end",level:2},{value:"2. Ex\xe9cuter le programme back-end",id:"2-ex\xe9cuter-le-programme-back-end",level:2},{value:"3. Configurer et ex\xe9cuter Nginx",id:"3-configurer-et-ex\xe9cuter-nginx",level:2},{value:"4. Test",id:"4-test",level:2}],d={toc:p};function m(e){let{components:r,...t}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Bien que Casdoor suive une architecture de s\xe9paration front-end back-end, dans un environnement de production, le programme back-end fournit toujours des services de fichiers statiques pour les fichiers front-end. Par cons\xe9quent, vous pouvez employer un logiciel de proxy inverse comme ",(0,a.kt)("a",{parentName:"p",href:"https://www.nginx.com/"},"Nginx")," pour rediriger tout le trafic pour le domaine Casdoor vers le port surveill\xe9 par le programme Go en backend."),(0,a.kt)("p",null,"Dans ce chapitre, vous apprendrez \xe0 utiliser Nginx pour faire office de proxy inverse pour votre programme Go en backend et d\xe9marrer rapidement le service Casdoor."),(0,a.kt)("h2",{id:"1-construire-les-fichiers-statiques-du-front-end"},"1. Construire les fichiers statiques du front-end"),(0,a.kt)("p",null,"En supposant que vous avez t\xe9l\xe9charg\xe9 Casdoor et compl\xe9t\xe9 la configuration n\xe9cessaire (si ce n'est pas le cas, reportez-vous \xe0 la section ",(0,a.kt)("strong",{parentName:"p"},"Commencer"),"), vous n'avez qu'\xe0 construire les fichiers statiques comme suit :"),(0,a.kt)(o.Z,{defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"npm",value:"npm"}],mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn install && yarn run build\n"))),(0,a.kt)(l.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install && npm run build\n")))),(0,a.kt)("h2",{id:"2-ex\xe9cuter-le-programme-back-end"},"2. Ex\xe9cuter le programme back-end"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"go run main.go\n")),(0,a.kt)("p",null,"Ou, construisez-le d'abord :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"go build && ./main\n")),(0,a.kt)("h2",{id:"3-configurer-et-ex\xe9cuter-nginx"},"3. Configurer et ex\xe9cuter Nginx"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"vim /path/to/nginx/nginx.conf\n")),(0,a.kt)("p",null,"Ensuite, ajoutez un serveur :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-nginx"},"server {\n    listen 80;\n    server_name YOUR_DOMAIN_NAME;\n    location / {\n        proxy_set_header    Host            $http_host;\n        proxy_set_header    X-Real-IP       $remote_addr;\n        proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_redirect      off;\n        proxy_pass http://127.0.0.1:8000;\n    }\n}\n")),(0,a.kt)("p",null,"Apr\xe8s, red\xe9marrez votre processus Nginx. Ex\xe9cutez :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"nginx -s reload\n")),(0,a.kt)("h2",{id:"4-test"},"4. Test"),(0,a.kt)("p",null,"Visitez ",(0,a.kt)("inlineCode",{parentName:"p"},"http://VOTRE_NOM_DE_DOMAINE")," dans votre navigateur pr\xe9f\xe9r\xe9."))}m.isMDXComponent=!0}}]);