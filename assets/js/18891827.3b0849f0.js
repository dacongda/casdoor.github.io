"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[9081],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var o=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=o.createContext({}),p=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(a),h=n,m=u["".concat(l,".").concat(h)]||u[h]||c[h]||r;return a?o.createElement(m,i(i({ref:t},d),{},{components:a})):o.createElement(m,i({ref:t},d))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<r;p++)i[p]=a[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}u.displayName="MDXCreateElement"},80083:(e,t,a)=>{a.d(t,{Z:()=>n});var o=a(67294);function n(e){return o.createElement("iframe",{src:e.src,width:e.width,height:e.height,style:{borderRadius:"20px"},frameBorder:"0",scrolling:"no"})}n.defaultProps={src:"https://door.casdoor.com",width:"600",height:"700"}},64826:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>c});var o=a(87462),n=(a(67294),a(3905)),r=a(74204),i=a(80083);const s={title:"Overview",description:"Casdoor Overview",keywords:["casdoor","OAuth 2.0"],authors:["kininaru"]},l=void 0,p={unversionedId:"overview",id:"overview",title:"Overview",description:"Casdoor Overview",source:"@site/docs/overview.mdx",sourceDirName:".",slug:"/overview",permalink:"/docs/overview",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/overview.mdx",tags:[],version:"current",frontMatter:{title:"Overview",description:"Casdoor Overview",keywords:["casdoor","OAuth 2.0"],authors:["kininaru"]},sidebar:"tutorialSidebar",previous:{title:"The Basics",permalink:"/docs/category/the-basics"},next:{title:"Core Concepts",permalink:"/docs/basic/core-concepts"}},d={},c=[{value:"Casdoor features",id:"casdoor-features",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"Step 0 (Pre-knowledge)",id:"step-0-pre-knowledge",level:3},{value:"Step 1 (Authorization Request)",id:"step-1-authorization-request",level:3},{value:"Step 2 (Authorization Grant)",id:"step-2-authorization-grant",level:3},{value:"Step 3 (Authorization Grant)",id:"step-3-authorization-grant",level:3},{value:"Step 4 (Access Token)",id:"step-4-access-token",level:3},{value:"Step 5 (Access Token)",id:"step-5-access-token",level:3},{value:"Step 6 (Protected Resource)",id:"step-6-protected-resource",level:3},{value:"Online demo",id:"online-demo",level:2},{value:"Casdoor",id:"casdoor",level:3},{value:"Casbin-OA",id:"casbin-oa",level:3},{value:"Casnode",id:"casnode",level:3},{value:"Architecture",id:"architecture",level:2}],u={toc:c};function h(e){let{components:t,...s}=e;return(0,n.kt)("wrapper",(0,o.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Casdoor is a UI-first ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Identity_management"},"Identity Access Management (IAM)")," / ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Single_sign-on"},"Single-Sign-On (SSO)")," platform with web UI supporting OAuth 2.0, OIDC, SAML, CAS, LDAP, SCIM, WebAuthn, TOTP, MFA, RADIUS, Google Workspace, Active Directory and Kerberos."),(0,n.kt)("div",{className:r.Z.gradientborder},(0,n.kt)(i.Z,{src:"https://door.casdoor.com/login",mdxType:"CasdoorCard"})),(0,n.kt)("p",null,"Casdoor serves both the web UI and the login requests from application users."),(0,n.kt)("h2",{id:"casdoor-features"},"Casdoor features"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor follows a front-end and back-end separate architecture, developed by Golang. It supports high concurrency, provides a web-based UI for management, and supports localization in 10+ languages.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor supports third-party application login, such as GitHub, Google, QQ, and WeChat, and it supports extending third-party login with plugins.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor supports authorization management based on ",(0,n.kt)("a",{parentName:"p",href:"https://casbin.org/"},"Casbin"),". It supports ACL, RBAC, ABAC, and RESTful access control models.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor provides phone verification code, email verification code, and password retrieval functions.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor supports auditing and recording of accessing logs.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor integrates with Alibaba Cloud, Tencent Cloud, and Qiniu Cloud image CDN cloud storage.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor allows customization of registration, login, and password retrieval pages.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor supports integration with existing systems by database synchronization, enabling smooth transition to Casdoor.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Casdoor supports mainstream databases such as MySQL, PostgreSQL, and SQL Server, and it supports the extension of new databases with plugins."))),(0,n.kt)("h2",{id:"how-it-works"},"How it works"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Principle",src:a(94251).Z,width:"854",height:"480"})),(0,n.kt)("h3",{id:"step-0-pre-knowledge"},"Step 0 (Pre-knowledge)"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Casdoor follows the authorization process built upon the OAuth 2.0 protocol. It is highly recommended to have a brief understanding of how OAuth 2.0 works. You can refer to this ",(0,n.kt)("a",{parentName:"li",href:"https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2"},"introduction")," to OAuth 2.0.")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(58055).Z,width:"561",height:"372"})),(0,n.kt)("h3",{id:"step-1-authorization-request"},"Step 1 (Authorization Request)"),(0,n.kt)("p",null,"Your Application (which could be a website or any other application) should compose a URL in the following format: ",(0,n.kt)("inlineCode",{parentName:"p"},"endpoint/login/oauth/authorize?client_id=xxx&response_type=code&redirect_uri=xxx&scope=read&state=xxx"),". Replace ",(0,n.kt)("inlineCode",{parentName:"p"},"endpoint")," with your Casdoor's host URL and ",(0,n.kt)("inlineCode",{parentName:"p"},"xxx")," with your own information."),(0,n.kt)("admonition",{title:"Hints",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"How to fill out the ",(0,n.kt)("inlineCode",{parentName:"p"},"xxx")," parts?"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For ",(0,n.kt)("inlineCode",{parentName:"p"},"client_id"),": you can find this under each individual Application")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For ",(0,n.kt)("inlineCode",{parentName:"p"},"redirect_uri"),": you should set this to your own Application's callback URL. Casdoor will use this information to send the response back after authorization.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For ",(0,n.kt)("inlineCode",{parentName:"p"},"state"),": you should fill this out with your Application name.")))),(0,n.kt)("p",null,"The Application will prompt the user: ",(0,n.kt)("em",{parentName:"p"},'"Hey, I need some resources and I need your permission to access these resources. Can you go to this URL and enter your username and password for me?"')),(0,n.kt)("p",null,"With the correctly composed URL, your Application will make the user launch a request to this URL, and the ",(0,n.kt)("inlineCode",{parentName:"p"},"Authorization Request")," is completed."),(0,n.kt)("h3",{id:"step-2-authorization-grant"},"Step 2 (Authorization Grant)"),(0,n.kt)("p",null,"This step is straightforward: the user is redirected to the URL composed in Step 1, and the user will see the login page from Casdoor. By entering the correct username and credentials into the login page, Casdoor now knows the identity of the user and is about to send two pieces of information back to the callback URL set in Step 1: ",(0,n.kt)("inlineCode",{parentName:"p"},"code")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"state"),"."),(0,n.kt)("p",null,'The user opens the URL and provides the credentials to Casdoor. Casdoor will say: "Looking good ~ this is the user (who is authorizing the Application to get the ',(0,n.kt)("inlineCode",{parentName:"p"},"code")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"state"),") I know in my database, and I will send the ",(0,n.kt)("inlineCode",{parentName:"p"},"code")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"state")," back to the Application using the callback URL (",(0,n.kt)("inlineCode",{parentName:"p"},"redirect_uri"),')".'),(0,n.kt)("p",null,"With these two pieces of information sent back to your Application, the authorization is granted to the app, and the ",(0,n.kt)("inlineCode",{parentName:"p"},"Authorization Grant")," is completed."),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"Casdoor also provides third-party logins. In this case, instead of seeing the credential entry page, you will see a list of third-party providers. You can log in to your app using these providers, with Casdoor acting as a middle layer (middleware).")),(0,n.kt)("h3",{id:"step-3-authorization-grant"},"Step 3 (Authorization Grant)"),(0,n.kt)("p",null,"In this step, your Application already has the code from Step 2, and it will speak to Casdoor: ",(0,n.kt)("em",{parentName:"p"},'"Hey, the user agreed to give me the ',(0,n.kt)("inlineCode",{parentName:"em"},"code"),". Can you verify this ",(0,n.kt)("inlineCode",{parentName:"em"},"code")," and give me the ",(0,n.kt)("inlineCode",{parentName:"em"},"access_token"),'?"')),(0,n.kt)("h3",{id:"step-4-access-token"},"Step 4 (Access Token)"),(0,n.kt)("p",null,"Casdoor responds to your Application: ",(0,n.kt)("em",{parentName:"p"},'"You know what, this ',(0,n.kt)("inlineCode",{parentName:"em"},"code")," seems legit. You must be the right Application. Here's the ",(0,n.kt)("inlineCode",{parentName:"em"},"access_token"),' for you."')," With this ",(0,n.kt)("inlineCode",{parentName:"p"},"code"),", Casdoor confirms that it is an authorized Application (authorized by the correct user in Step 2) trying to obtain the ",(0,n.kt)("inlineCode",{parentName:"p"},"access_token")," (which will be used later to access more resources)."),(0,n.kt)("h3",{id:"step-5-access-token"},"Step 5 (Access Token)"),(0,n.kt)("p",null,"In this step, your Application says: ",(0,n.kt)("em",{parentName:"p"},'"Nice! I just got the fresh-and-tasty ',(0,n.kt)("inlineCode",{parentName:"em"},"access_token"),". Now I can use it to access something more valuable from the ",(0,n.kt)("inlineCode",{parentName:"em"},"Resource Server"),'!"')),(0,n.kt)("p",null,"Your Application then turns to the ",(0,n.kt)("inlineCode",{parentName:"p"},"Resource Server")," and says: ",(0,n.kt)("em",{parentName:"p"},'"Hey buddy, can you check out this ',(0,n.kt)("inlineCode",{parentName:"em"},"access_token"),'? I received it from Casdoor. Do you want to verify if this is the correct token you issued to Casdoor?"')),(0,n.kt)("h3",{id:"step-6-protected-resource"},"Step 6 (Protected Resource)"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Resource Server")," responds to your Application: ",(0,n.kt)("em",{parentName:"p"},'"Not bad. It seems just like the one I issued to Casdoor, and Casdoor says whoever holds this ',(0,n.kt)("inlineCode",{parentName:"em"},"access_token")," can access these ",(0,n.kt)("inlineCode",{parentName:"em"},"Protected Resources"),'. So go ahead and take it!"')),(0,n.kt)("p",null,"And that's basically how Casdoor works with your Application."),(0,n.kt)("admonition",{title:"Hint",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Casdoor can act as both an ",(0,n.kt)("inlineCode",{parentName:"p"},"Authorization Server")," and a ",(0,n.kt)("inlineCode",{parentName:"p"},"Resource Server"),". In other words, Casdoor authorizes your Application to access resources, usually the currently logged-in user's information, from Casdoor's database.")),(0,n.kt)("h2",{id:"online-demo"},"Online demo"),(0,n.kt)("h3",{id:"casdoor"},"Casdoor"),(0,n.kt)("p",null,"Here is an online demo deployed by Casbin."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://door.casdoor.com/"},"Casdoor official demo"))),(0,n.kt)("p",null,"Global admin login:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Username: ",(0,n.kt)("inlineCode",{parentName:"li"},"admin")),(0,n.kt)("li",{parentName:"ul"},"Password: ",(0,n.kt)("inlineCode",{parentName:"li"},"123"))),(0,n.kt)("h3",{id:"casbin-oa"},"Casbin-OA"),(0,n.kt)("p",null,"Casbin-OA is one of the Casbin web apps. It uses Casdoor for authentication."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://oa.casbin.com"},"Casbin-OA")),(0,n.kt)("li",{parentName:"ul"},"Source code: ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/casbin/casbin-oa"},"https://github.com/casbin/casbin-oa"))),(0,n.kt)("h3",{id:"casnode"},"Casnode"),(0,n.kt)("p",null,"Casnode is the official forum developed by the Casbin community."),(0,n.kt)("p",null,"It uses Casdoor as the authentication platform and manages members."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://casnode.org"},"Casnode")),(0,n.kt)("li",{parentName:"ul"},"Source code: ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/casbin/casnode"},"https://github.com/casbin/casnode"))),(0,n.kt)("h2",{id:"architecture"},"Architecture"),(0,n.kt)("p",null,"Casdoor consists of two parts:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Language"),(0,n.kt)("th",{parentName:"tr",align:null},"Source code"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Frontend"),(0,n.kt)("td",{parentName:"tr",align:null},"Web frontend UI for Casdoor"),(0,n.kt)("td",{parentName:"tr",align:null},"JavaScript + React"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor/tree/master/web"},"https://github.com/casdoor/casdoor/tree/master/web"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Backend"),(0,n.kt)("td",{parentName:"tr",align:null},"RESTful API backend for Casdoor"),(0,n.kt)("td",{parentName:"tr",align:null},"Golang + Beego + SQL"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"))))))}h.isMDXComponent=!0},74204:(e,t,a)=>{a.d(t,{Z:()=>o});const o={gradientborder:"gradientborder_zL2q",signingradientborder:"signingradientborder_YFZJ"}},58055:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/oauth-2913ec44d8cf5851fd9dd7c359ed4e21.png"},94251:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/principles-dbcbdbeab5ee183c2486223a31fd0bc6.gif"}}]);